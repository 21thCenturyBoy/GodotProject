# 节点编辑器插件

## 概述

这是一个Godot引擎的节点编辑器插件，可用于创建和编辑节点图。

## 功能特性

- 节点创建和删除
- 节点拖拽和定位
- 连接线的可视化创建和编辑
- 导入/导出节点图为JSON文件

## 使用说明

### 节点操作

- **添加节点**：点击工具栏的"Add Node"按钮
- **删除节点**：选中节点后，点击工具栏的"Delete Node"按钮
- **选择节点**：点击节点
- **移动节点**：点击节点并拖动

### 连接线操作

- **创建连接线**：
  1. 点击节点的输出槽（右侧红色圆点）
  2. 拖动鼠标到目标节点的输入槽（左侧绿色圆点）
  3. 释放鼠标完成连接
  
  *注意：只能从输出槽连接到输入槽，不能连接到同一节点*

- **删除连接线**：
  1. 右键点击连接线
  2. 在弹出菜单中选择"删除连接"

### 节点图保存和加载

- **导出节点图**：点击工具栏的"Export"按钮，选择保存路径
- **导入节点图**：点击工具栏的"Import"按钮，选择JSON文件

## 开发说明

### 代码结构

- `node_editor_plugin.gd` - 插件入口
- `node_editor_view.gd` - 节点编辑器主视图
- `nodes/base_node.gd` - 基础节点类

### 连接线编辑逻辑

连接线的可视化编辑通过以下步骤实现：

1. 在节点的槽上检测鼠标点击事件
2. 当开始创建连接时，记录起始节点和槽的信息
3. 随着鼠标移动，绘制预览连接线
4. 释放鼠标时，检查目标槽是否有效，若有效则创建连接

## 未来计划

- 添加更多节点类型
- 支持节点属性的编辑
- 实现节点组功能
- 增强连接线样式和交互 
